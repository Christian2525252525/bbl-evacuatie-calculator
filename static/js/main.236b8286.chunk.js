(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{247:function(e,a,t){e.exports=t(472)},256:function(e,a,t){},472:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(234),m=t.n(r),s=(t(256),t(474)),i=t(475),c=t(476),o=t(93),d=t(94),u=t(42),p=t(58),b=t(245),g=t(477),E=t(96);var v=()=>{const[e,a]=Object(l.useState)(5),[t,r]=Object(l.useState)(5),[m,v]=Object(l.useState)(-1),[h,f]=Object(l.useState)(!0),[x,N]=Object(l.useState)(20),[y,w]=Object(l.useState)({}),[D,S]=Object(l.useState)(30),[k,C]=Object(l.useState)([]),[T,j]=Object(l.useState)(3),[F,O]=Object(l.useState)(45),[P,B]=Object(l.useState)(33),[W,M]=Object(l.useState)(.85),[V,L]=Object(l.useState)(null),[I,R]=Object(l.useState)(0),[$,z]=Object(l.useState)(!1),[A,K]=Object(l.useState)(!1),[J,_]=Object(l.useState)([]);Object(l.useEffect)(()=>{const a=[];for(let t=0;t<e;t++)a.push({id:t+1,name:String.fromCharCode(65+t),width:1.2,freeWidth:1,hasLandings:!0,landingsPerFloor:2,landingSize:1.5,flowCapacity:33,resistance:1,exitDoorWidth:.85,hasVestibule:h,vestibuleDepth:1.5,vestibuleDoorWidth:.85,specificTravelDistances:{},travelDistanceFloor:15,travelSpeed:1.6,floorEvacuationDelay:60,capacityReduction:1,minWidth:.85,receiveCapacity:120});C(a)},[e,h]),Object(l.useEffect)(()=>{const e=[];for(let l=t-1;l>=m;l--)e.push(l);_(e);const a={};e.forEach(e=>{a[e]=y[e]||100}),w(a),C(a=>a.map(a=>{const t={...a.specificTravelDistances};return e.forEach(e=>{t[e]||(t[e]=a.travelDistanceFloor)}),{...a,specificTravelDistances:t}}))},[t,m]);const G=(e,a,t)=>{const l=[...k],n=l.findIndex(a=>a.id===e);if(-1!==n){if(["width","freeWidth","landingSize","flowCapacity","resistance","exitDoorWidth","vestibuleDepth","vestibuleDoorWidth","landingsPerFloor","travelDistanceFloor","travelSpeed","floorEvacuationDelay","capacityReduction","minWidth","receiveCapacity"].includes(a)&&(t=parseFloat(t)||0),["hasLandings","hasVestibule"].includes(a)&&(t="true"===t),a.startsWith("travelDistance_")){const e=parseInt(a.split("_")[1]),r={...l[n].specificTravelDistances,[e]:parseFloat(t)||0};l[n]={...l[n],specificTravelDistances:r}}else l[n]={...l[n],[a]:t};C(l)}},H=e=>e.width*P*Math.min(1,e.freeWidth/e.width)*(e.hasLandings?Math.max(.6,Math.min(1,e.landingSize/2)):1)*(e.hasVestibule?W:1)*e.capacityReduction,U=(e,a)=>{let t;return t=e.hasVestibule?e.vestibuleDoorWidth*F*W:e.width*F},q=(e,a)=>(e.specificTravelDistances[a]||e.travelDistanceFloor)/e.travelSpeed,Q=(e,a,t)=>{const l=a-t;return l<=0?0:l*(30+(e.hasLandings?2*e.landingsPerFloor:0))};return n.a.createElement("div",{className:"p-6 max-w-6xl mx-auto bg-white"},n.a.createElement("h1",{className:"text-2xl font-bold mb-6 text-blue-800"},"BBL Gebouwevacuatie Rekentool"),$?n.a.createElement("div",{className:"space-y-8"},n.a.createElement("div",{className:"bg-green-50 p-4 rounded-lg"},n.a.createElement("h2",{className:"text-xl font-semibold mb-4"},"Berekeningsresultaten"),n.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},n.a.createElement("div",{className:"p-3 bg-white rounded shadow"},n.a.createElement("p",{className:"font-medium"},"Totaal aantal personen: ",V.totalPeople)),n.a.createElement("div",{className:"p-3 bg-white rounded shadow"},n.a.createElement("p",{className:"font-medium"},"Totaal aantal trappen: ",e)),n.a.createElement("div",{className:"p-3 bg-white rounded shadow"},n.a.createElement("p",{className:"font-medium"},"Gebouwhoogte: ",V.totalHeight.toFixed(1)," m")),n.a.createElement("div",{className:"p-3 bg-white rounded shadow"},n.a.createElement("p",{className:"font-medium"},"Trapdoorstroomcapaciteit: ",V.stairCapacity," pers/min")),n.a.createElement("div",{className:"p-3 bg-white rounded shadow"},n.a.createElement("p",{className:"font-medium"},"Uitgangscapaciteit: ",V.exitDoorCapacity," pers/min")),n.a.createElement("div",{className:"p-3 bg-white rounded shadow"},n.a.createElement("p",{className:"font-medium"},"Ontruimingstijd: ",I.toFixed(2)," minuten"),I>x&&n.a.createElement("p",{className:"text-red-600 text-sm"},"Overschrijdt max. tijd van ",x," min.")))),n.a.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},n.a.createElement("h2",{className:"text-xl font-semibold mb-4"},"Ontruimingsvoortgang"),n.a.createElement("div",{className:"h-72 w-full"},n.a.createElement(s.a,{width:"100%",height:"100%"},n.a.createElement(i.a,{data:V.timeSeriesData,margin:{top:5,right:30,left:20,bottom:5}},n.a.createElement(c.a,{strokeDasharray:"3 3"}),n.a.createElement(o.a,{dataKey:"time",label:{value:"Tijd (minuten)",position:"insideBottomRight",offset:-5}}),n.a.createElement(d.a,{label:{value:"Aantal ge\xebvacueerde personen",angle:-90,position:"insideLeft"}}),n.a.createElement(u.a,null),n.a.createElement(p.a,null),k.map(e=>n.a.createElement(b.a,{key:`stair${e.id}`,type:"monotone",dataKey:`stair${e.id}`,name:`Trap ${e.name}`,stroke:`hsl(${120*(e.id-1)%360}, 70%, 50%)`,strokeWidth:2})),n.a.createElement(b.a,{type:"monotone",dataKey:"total",name:"Totale evacuatie",stroke:"#000",strokeWidth:3}))))),n.a.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},n.a.createElement("h2",{className:"text-xl font-semibold mb-4"},"Kritieke evacuatiepaden"),n.a.createElement("div",{className:"overflow-x-auto"},n.a.createElement("table",{className:"w-full text-sm"},n.a.createElement("thead",null,n.a.createElement("tr",{className:"bg-blue-100"},n.a.createElement("th",{className:"p-2 text-left"},"Verdieping"),n.a.createElement("th",{className:"p-2 text-left"},"Kritieke trap"),n.a.createElement("th",{className:"p-2 text-right"},"Looptijd (sec)"),n.a.createElement("th",{className:"p-2 text-right"},"Afdaaltijd (sec)"),n.a.createElement("th",{className:"p-2 text-right"},"Totale tijd (sec)"))),n.a.createElement("tbody",null,V.criticalPaths.map((e,a)=>n.a.createElement("tr",{key:`path-${a}`,className:"border-b"},n.a.createElement("td",{className:"p-2"},e.floor),n.a.createElement("td",{className:"p-2"},e.stair),n.a.createElement("td",{className:"p-2 text-right"},e.travelTime.toFixed(1)),n.a.createElement("td",{className:"p-2 text-right"},e.descentTime.toFixed(1)),n.a.createElement("td",{className:"p-2 text-right font-medium"},e.totalTime.toFixed(1)))))))),n.a.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},n.a.createElement("h2",{className:"text-xl font-semibold mb-4"},"Personen per verdieping"),n.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},n.a.createElement("div",{className:"h-72"},n.a.createElement(s.a,{width:"100%",height:"100%"},n.a.createElement(g.a,{data:V.floorData,margin:{top:5,right:30,left:20,bottom:5},layout:"vertical"},n.a.createElement(c.a,{strokeDasharray:"3 3"}),n.a.createElement(o.a,{type:"number"}),n.a.createElement(d.a,{dataKey:"floor",type:"category",label:{value:"Verdieping",angle:-90,position:"insideLeft"}}),n.a.createElement(u.a,null),n.a.createElement(p.a,null),n.a.createElement(E.a,{dataKey:"people",name:"Personen per verdieping",fill:"#8884d8"})))),n.a.createElement("div",{className:"overflow-y-auto h-72"},n.a.createElement("table",{className:"w-full text-sm"},n.a.createElement("thead",null,n.a.createElement("tr",{className:"bg-blue-100 sticky top-0"},n.a.createElement("th",{className:"p-2 text-left"},"Verdieping"),n.a.createElement("th",{className:"p-2 text-right"},"Aantal personen"),n.a.createElement("th",{className:"p-2 text-right"},"Start evacuatie (min)"),n.a.createElement("th",{className:"p-2 text-right"},"Resterend einde (pers)"))),n.a.createElement("tbody",null,V.floorData.map((e,a)=>n.a.createElement("tr",{key:`floor-${a}`,className:"border-b"},n.a.createElement("td",{className:"p-2"},e.floor),n.a.createElement("td",{className:"p-2 text-right"},e.people),n.a.createElement("td",{className:"p-2 text-right"},e.evacuationStartTime),n.a.createElement("td",{className:"p-2 text-right"},e.remainingAtEnd)))))))),n.a.createElement("div",{className:"flex justify-center space-x-4"},n.a.createElement("button",{onClick:()=>{z(!1),L(null)},className:"px-6 py-2 bg-gray-600 text-white font-medium rounded hover:bg-gray-700"},"Terug naar invoer"),n.a.createElement("button",{className:"px-6 py-2 bg-blue-600 text-white font-medium rounded hover:bg-blue-700",onClick:()=>window.print()},"Resultaten exporteren"))):n.a.createElement("div",{className:"space-y-6"},n.a.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},n.a.createElement("h2",{className:"text-xl font-semibold mb-4"},"Gebouwparameters"),n.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.a.createElement("div",null,n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Aantal trappen"),n.a.createElement("input",{type:"number",min:"1",max:"10",value:e,onChange:e=>a(parseInt(e.target.value)),className:"w-full p-2 border rounded"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Aantal bouwlagen"),n.a.createElement("input",{type:"number",min:"1",max:"100",value:t,onChange:e=>r(parseInt(e.target.value)),className:"w-full p-2 border rounded"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Laagste verdieping"),n.a.createElement("input",{type:"number",min:"-10",max:"0",value:m,onChange:e=>v(parseInt(e.target.value)),className:"w-full p-2 border rounded"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Voorportalen aanwezig"),n.a.createElement("select",{value:h?"true":"false",onChange:e=>f("true"===e.target.value),className:"w-full p-2 border rounded"},n.a.createElement("option",{value:"true"},"Ja"),n.a.createElement("option",{value:"false"},"Nee"))),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Verdiepingshoogte (m)"),n.a.createElement("input",{type:"number",min:"2",max:"6",step:"0.1",value:T,onChange:e=>j(parseFloat(e.target.value)),className:"w-full p-2 border rounded"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Maximale ontruimingstijd (min)"),n.a.createElement("select",{value:x,onChange:e=>N(parseInt(e.target.value)),className:"w-full p-2 border rounded"},n.a.createElement("option",{value:"15"},"15 minuten"),n.a.createElement("option",{value:"20"},"20 minuten"),n.a.createElement("option",{value:"30"},"30 minuten"),n.a.createElement("option",{value:"38"},"38 minuten"),n.a.createElement("option",{value:"76"},"76 minuten")))),n.a.createElement("div",{className:"mt-4"},n.a.createElement("button",{onClick:()=>K(!A),className:"text-blue-700 underline"},A?"Verberg geavanceerde instellingen":"Toon geavanceerde instellingen"),A&&n.a.createElement("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4 p-3 bg-blue-100 rounded"},n.a.createElement("div",null,n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Doorstroomcapaciteit verdieping (pers/min/m)"),n.a.createElement("input",{type:"number",min:"20",max:"100",step:"1",value:F,onChange:e=>O(parseFloat(e.target.value)),className:"w-full p-2 border rounded"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Doorstroomcapaciteit trap (pers/min/m)"),n.a.createElement("input",{type:"number",min:"20",max:"100",step:"1",value:P,onChange:e=>B(parseFloat(e.target.value)),className:"w-full p-2 border rounded"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Reductiefactor voorportaal"),n.a.createElement("input",{type:"number",min:"0.1",max:"1",step:"0.05",value:W,onChange:e=>M(parseFloat(e.target.value)),className:"w-full p-2 border rounded"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Tijdstap simulatie (sec)"),n.a.createElement("input",{type:"number",min:"5",max:"60",step:"5",value:D,onChange:e=>S(parseInt(e.target.value)),className:"w-full p-2 border rounded"}))))),n.a.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},n.a.createElement("h2",{className:"text-xl font-semibold mb-4"},"Trapspecificaties"),n.a.createElement("div",{className:"overflow-x-auto"},n.a.createElement("table",{className:"w-full text-sm"},n.a.createElement("thead",null,n.a.createElement("tr",{className:"bg-blue-100"},n.a.createElement("th",{className:"p-2 text-left"},"Trap"),n.a.createElement("th",{className:"p-2 text-left"},"Breedte (m)"),n.a.createElement("th",{className:"p-2 text-left"},"Vrije breedte (m)"),n.a.createElement("th",{className:"p-2 text-left"},"Bordessen"),n.a.createElement("th",{className:"p-2 text-left"},"Bordessen per verdieping"),n.a.createElement("th",{className:"p-2 text-left"},"Bordesgrootte (m)"),n.a.createElement("th",{className:"p-2 text-left"},"Doorstroomcap. (pers/min/m)"),n.a.createElement("th",{className:"p-2 text-left"},"Uitgang breedte (m)"))),n.a.createElement("tbody",null,k.map(e=>n.a.createElement("tr",{key:e.id,className:"border-b"},n.a.createElement("td",{className:"p-2"},e.name),n.a.createElement("td",{className:"p-2"},n.a.createElement("input",{type:"number",min:"0.8",max:"3",step:"0.1",value:e.width,onChange:a=>G(e.id,"width",a.target.value),className:"w-20 p-1 border rounded"})),n.a.createElement("td",{className:"p-2"},n.a.createElement("input",{type:"number",min:"0.6",max:"3",step:"0.1",value:e.freeWidth,onChange:a=>G(e.id,"freeWidth",a.target.value),className:"w-20 p-1 border rounded"})),n.a.createElement("td",{className:"p-2"},n.a.createElement("select",{value:e.hasLandings.toString(),onChange:a=>G(e.id,"hasLandings",a.target.value),className:"p-1 border rounded"},n.a.createElement("option",{value:"true"},"Ja"),n.a.createElement("option",{value:"false"},"Nee"))),n.a.createElement("td",{className:"p-2"},n.a.createElement("input",{type:"number",min:"1",max:"4",step:"1",disabled:!e.hasLandings,value:e.landingsPerFloor,onChange:a=>G(e.id,"landingsPerFloor",a.target.value),className:"w-20 p-1 border rounded"})),n.a.createElement("td",{className:"p-2"},n.a.createElement("input",{type:"number",min:"0.5",max:"3",step:"0.1",disabled:!e.hasLandings,value:e.landingSize,onChange:a=>G(e.id,"landingSize",a.target.value),className:"w-20 p-1 border rounded"})),n.a.createElement("td",{className:"p-2"},n.a.createElement("input",{type:"number",min:"20",max:"100",step:"1",value:e.flowCapacity,onChange:a=>G(e.id,"flowCapacity",a.target.value),className:"w-20 p-1 border rounded"})),n.a.createElement("td",{className:"p-2"},n.a.createElement("input",{type:"number",min:"0.6",max:"2.5",step:"0.05",value:e.exitDoorWidth,onChange:a=>G(e.id,"exitDoorWidth",a.target.value),className:"w-20 p-1 border rounded"}))))))),A&&n.a.createElement("div",{className:"mt-4"},n.a.createElement("h3",{className:"font-medium text-sm mb-2"},"Extra Trapparameters"),k.map(e=>n.a.createElement("div",{key:`adv-${e.id}`,className:"mb-4 p-3 bg-blue-100 rounded"},n.a.createElement("h4",{className:"font-medium mb-2"},"Trap ",e.name," - Geavanceerde instellingen"),n.a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},n.a.createElement("div",null,n.a.createElement("label",{className:"block text-xs mb-1"},"Voorportaal aanwezig"),n.a.createElement("select",{value:e.hasVestibule.toString(),onChange:a=>G(e.id,"hasVestibule",a.target.value),className:"w-full p-1 border rounded text-sm"},n.a.createElement("option",{value:"true"},"Ja"),n.a.createElement("option",{value:"false"},"Nee"))),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-xs mb-1"},"Voorportaaldiepte (m)"),n.a.createElement("input",{type:"number",min:"0.5",max:"3",step:"0.1",disabled:!e.hasVestibule,value:e.vestibuleDepth,onChange:a=>G(e.id,"vestibuleDepth",a.target.value),className:"w-full p-1 border rounded text-sm"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-xs mb-1"},"Voorportaaldeur breedte (m)"),n.a.createElement("input",{type:"number",min:"0.6",max:"2.5",step:"0.05",disabled:!e.hasVestibule,value:e.vestibuleDoorWidth,onChange:a=>G(e.id,"vestibuleDoorWidth",a.target.value),className:"w-full p-1 border rounded text-sm"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-xs mb-1"},"Weerstandsfactor"),n.a.createElement("input",{type:"number",min:"0.5",max:"1.5",step:"0.05",value:e.resistance,onChange:a=>G(e.id,"resistance",a.target.value),className:"w-full p-1 border rounded text-sm"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-xs mb-1"},"Loopafstand naar trap (m)"),n.a.createElement("input",{type:"number",min:"1",max:"100",step:"1",value:e.travelDistanceFloor,onChange:a=>G(e.id,"travelDistanceFloor",a.target.value),className:"w-full p-1 border rounded text-sm"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-xs mb-1"},"Loopsnelheid (m/s)"),n.a.createElement("input",{type:"number",min:"0.5",max:"2.5",step:"0.1",value:e.travelSpeed,onChange:a=>G(e.id,"travelSpeed",a.target.value),className:"w-full p-1 border rounded text-sm"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-xs mb-1"},"Vertraging voor verdieping (s)"),n.a.createElement("input",{type:"number",min:"0",max:"300",step:"15",value:e.floorEvacuationDelay,onChange:a=>G(e.id,"floorEvacuationDelay",a.target.value),className:"w-full p-1 border rounded text-sm"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-xs mb-1"},"Capaciteitsreductie"),n.a.createElement("input",{type:"number",min:"0.1",max:"1",step:"0.05",value:e.capacityReduction,onChange:a=>G(e.id,"capacityReduction",a.target.value),className:"w-full p-1 border rounded text-sm"})),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-xs mb-1"},"Opvangcapaciteit (pers)"),n.a.createElement("input",{type:"number",min:"10",max:"500",step:"10",value:e.receiveCapacity,onChange:a=>G(e.id,"receiveCapacity",a.target.value),className:"w-full p-1 border rounded text-sm"}))),J.length>0&&n.a.createElement("div",{className:"mt-3"},n.a.createElement("h5",{className:"text-xs font-medium mb-1"},"Specifieke loopafstanden per verdieping (m)"),n.a.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2"},J.map(a=>n.a.createElement("div",{key:`dist-${e.id}-${a}`},n.a.createElement("label",{className:"block text-xs mb-1"},"Verd. ",a),n.a.createElement("input",{type:"number",min:"1",max:"100",step:"1",value:e.specificTravelDistances[a]||e.travelDistanceFloor,onChange:t=>G(e.id,`travelDistance_${a}`,t.target.value),className:"w-full p-1 border rounded text-xs"}))))))))),n.a.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},n.a.createElement("h2",{className:"text-xl font-semibold mb-4"},"Personen per verdieping"),n.a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},J.map(e=>n.a.createElement("div",{key:e},n.a.createElement("label",{className:"block text-sm font-medium mb-1"},"Verdieping ",e),n.a.createElement("input",{type:"number",min:"0",value:y[e]||0,onChange:a=>((e,a)=>{w({...y,[e]:parseInt(a)||0})})(e,a.target.value),className:"w-full p-2 border rounded"}))))),n.a.createElement("div",{className:"flex justify-center"},n.a.createElement("button",{onClick:()=>{const e=Object.values(y).reduce((e,a)=>e+a,0),a=(t-1+Math.abs(Math.min(0,m)))*T,l=[...k],n=D,r=60*x,s=Math.ceil(2*r/n),i={timeSteps:[],floorData:{},stairData:{},evacuationProgress:[],totalEvacuated:0};J.forEach(e=>{i.floorData[e]={originalPeople:y[e]||0,remainingPeople:y[e]||0,evacuationStartTime:e*k[0].floorEvacuationDelay,evacuationDelay:k[0].floorEvacuationDelay}}),l.forEach(e=>{i.stairData[e.id]={flowCapacity:H(e),exitCapacity:e.exitDoorWidth*F,peopleOnStair:0,totalEvacuated:0,peoplePerFloor:{}},J.forEach(a=>{i.stairData[e.id].peoplePerFloor[a]=0})});for(let t=0;t<=s;t++){const a=t*n,r={step:t,time:a,timeMinutes:a/60,stairData:{},floorData:{},totalEvacuated:0,remainingInBuilding:e};if(l.forEach(e=>{const t=e.id,l=i.stairData[t],m=l.exitCapacity/60*n;let s=Math.min(l.peopleOnStair,m);l.totalEvacuated+=s,l.peopleOnStair-=s,J.forEach(t=>{const r=i.floorData[t];if(a>=r.evacuationStartTime&&r.remainingPeople>0){const a=U(e)/60*n,m=Math.min(r.remainingPeople,a),s=l.peopleOnStair/e.receiveCapacity,i=m*Math.max(0,1-s);r.remainingPeople-=i,l.peopleOnStair+=i,l.peoplePerFloor[t]+=i}}),r.stairData[t]={peopleOnStair:l.peopleOnStair,totalEvacuated:l.totalEvacuated,peoplePerFloor:{...l.peoplePerFloor}},r.totalEvacuated+=l.totalEvacuated}),J.forEach(e=>{r.floorData[e]={remainingPeople:i.floorData[e].remainingPeople}}),r.remainingInBuilding=e-r.totalEvacuated,i.timeSteps.push(r),r.remainingInBuilding<=0)break}const c=i.timeSteps.find(a=>a.remainingInBuilding<=0||a.totalEvacuated>=.99*e),o=c?c.timeMinutes:i.timeSteps[i.timeSteps.length-1].timeMinutes;R(o);const d=l.reduce((e,a)=>e+H(a),0),u=l.reduce((e,a)=>e+a.exitDoorWidth*F,0),p=i.timeSteps.filter((e,a)=>a%Math.max(1,Math.floor(i.timeSteps.length/40))===0).map(e=>{const a={timeStep:e.step,time:e.timeMinutes.toFixed(1)};return l.forEach(t=>{a[`stair${t.id}`]=Math.round(e.stairData[t.id].totalEvacuated)}),a.total=Math.round(e.totalEvacuated),a}),b=J.map(e=>({floor:e,people:y[e]||0,evacuationStartTime:(i.floorData[e].evacuationStartTime/60).toFixed(1),remainingAtEnd:Math.round(i.timeSteps[i.timeSteps.length-1].floorData[e].remainingPeople)})),g=[];J.forEach(e=>{let a=0,t=null;l.forEach(l=>{const n=q(l,e)+Q(l,e,m);n>a&&(a=n,t=l)}),t&&g.push({floor:e,stair:t.name,travelTime:q(t,e),descentTime:Q(t,e,m),totalTime:a})}),L({timeSeriesData:p,floorData:b,totalPeople:e,stairCapacity:Math.round(d),totalHeight:a,exitDoorCapacity:Math.round(u),criticalPaths:g,detailedTimeSteps:i.timeSteps}),z(!0)},className:"px-6 py-2 bg-blue-600 text-white font-medium rounded hover:bg-blue-700"},"Berekenen"))),n.a.createElement("div",{className:"mt-8 pt-4 border-t text-sm text-gray-600"},n.a.createElement("p",null,"Deze rekentool is gebaseerd op de eisen van het Besluit bouwwerken en leefomgeving (BBL) voor gebouwontruiming."),n.a.createElement("p",null,"Referentie: Artikelen ",n.a.createElement("a",{href:"https://wetten.overheid.nl/jci1.3:c:BWBR0041297&hoofdstuk=4&afdeling=4.2&paragraaf=4.2.11&artikel=4.80&z=2025-01-01&g=2025-01-01",target:"_blank",className:"text-blue-600 hover:underline"},"4.80")," en ",n.a.createElement("a",{href:"https://wetten.overheid.nl/jci1.3:c:BWBR0041297&hoofdstuk=4&afdeling=4.2&paragraaf=4.2.11&artikel=4.81&z=2025-01-01&g=2025-01-01",target:"_blank",className:"text-blue-600 hover:underline"},"4.81")," van het BBL.")))};var h=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,478)).then(a=>{let{getCLS:t,getFID:l,getFCP:n,getLCP:r,getTTFB:m}=a;t(e),l(e),n(e),r(e),m(e)})};m.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v,null))),h()}},[[247,1,2]]]);
//# sourceMappingURL=main.236b8286.chunk.js.map